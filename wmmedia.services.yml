services:
    wmmedia.form_alter.subscriber:
        class: Drupal\wmmedia\EventSubscriber\MediaFormAlterSubscriber
        arguments:
            - '@current_user'
        tags: [{ name: event_subscriber }]

    wmmedia.delete_form_alter.subscriber:
        class: Drupal\wmmedia\EventSubscriber\MediaDeleteFormAlterSubscriber
        arguments:
            - '@wmmedia.reference_discovery'
        tags: [{ name: event_subscriber }]

    wmmedia.media_entity.subscriber:
        class: Drupal\wmmedia\EventSubscriber\MediaEntitySubscriber
        arguments:
            - '@wmmedia.reference_discovery'
        tags: [{ name: event_subscriber }]

    wmmedia.media_widget.subscriber:
        class: Drupal\wmmedia\EventSubscriber\MediaWidgetSubscriber
        arguments:
            - '@entity_type.manager'
            - '@imgix.manager'
        tags: [{ name: event_subscriber }]

    wmmedia.collection_route.subscriber:
        class:  Drupal\wmmedia\EventSubscriber\CollectionRouteSubscriber
        tags: [{ name: event_subscriber }]

    wmmedia.filter:
        class: Drupal\wmmedia\Service\MediaFilterService
        arguments:
            - '@database'

    wmmedia.reference_discovery:
        class: Drupal\wmmedia\Service\MediaReferenceDiscovery
        arguments:
            - '@entity_type.manager'
            - '@entity_field.manager'
            - '@entity_type.bundle.info'
            - '@module_handler'
            - '@event_dispatcher'
